{"code":"23505","error":"duplicate key value violates unique constraint \"books_isbn_key\"","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mDatabase query error\u001b[39m","query":"\n        INSERT INTO books (isbn, title, author, publisher, publication_year, description, total_cop...","timestamp":"2025-08-01 15:34:04:344"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mPort 5001 is already in use\u001b[39m","timestamp":"2025-08-01 15:40:31:4031"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mPort 5001 is already in use\u001b[39m","timestamp":"2025-08-01 15:41:29:4129"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mPort 5001 is already in use\u001b[39m","timestamp":"2025-08-01 15:47:04:474"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mPort 5001 is already in use\u001b[39m","timestamp":"2025-08-01 15:47:18:4718"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mPort 5001 is already in use\u001b[39m","timestamp":"2025-08-01 15:47:23:4723"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mPort 5001 is already in use\u001b[39m","timestamp":"2025-08-01 15:47:41:4741"}
{"code":"EPIPE","errno":-32,"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mUncaught Exception: write EPIPE\u001b[39m","stack":"Error: write EPIPE\n    at afterWriteDispatched (node:internal/stream_base_commons:159:15)\n    at writeGeneric (node:internal/stream_base_commons:150:3)\n    at Socket._writeGeneric (node:net:971:11)\n    at Socket._write (node:net:983:8)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at Writable.write (node:internal/streams/writable:510:10)\n    at Console.log (/Users/igeorgiadis/Library/Mobile Documents/com~apple~CloudDocs/cf7-kchavela-2025/backend/node_modules/winston/lib/winston/transports/console.js:87:23)\n    at Console._write (/Users/igeorgiadis/Library/Mobile Documents/com~apple~CloudDocs/cf7-kchavela-2025/backend/node_modules/winston-transport/modern.js:103:17)\n    at doWrite (/Users/igeorgiadis/Library/Mobile Documents/com~apple~CloudDocs/cf7-kchavela-2025/backend/node_modules/readable-stream/lib/_stream_writable.js:390:139)","syscall":"write","timestamp":"2025-08-01 15:54:18:5418"}
{"code":"23505","error":"duplicate key value violates unique constraint \"books_isbn_key\"","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mDatabase query error\u001b[39m","query":"\n        INSERT INTO books (isbn, title, author, publisher, publication_year, description, total_cop...","timestamp":"2025-08-01 16:07:48:748"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mPort 5001 is already in use\u001b[39m","timestamp":"2025-08-01 16:14:08:148"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mGet user loans error: loan.toUserLoan is not a function\u001b[39m","stack":"TypeError: loan.toUserLoan is not a function\n    at /Users/igeorgiadis/Library/Mobile Documents/com~apple~CloudDocs/cf7-kchavela-2025/backend/src/controllers/LoanController.js:160:45\n    at Array.map (<anonymous>)\n    at getMyLoans (/Users/igeorgiadis/Library/Mobile Documents/com~apple~CloudDocs/cf7-kchavela-2025/backend/src/controllers/LoanController.js:160:28)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-08-01 16:30:25:3025"}
{"ip":"::1","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mServer error loan.toUserLoan is not a function\u001b[39m","method":"GET","stack":"TypeError: loan.toUserLoan is not a function\n    at /Users/igeorgiadis/Library/Mobile Documents/com~apple~CloudDocs/cf7-kchavela-2025/backend/src/controllers/LoanController.js:160:45\n    at Array.map (<anonymous>)\n    at getMyLoans (/Users/igeorgiadis/Library/Mobile Documents/com~apple~CloudDocs/cf7-kchavela-2025/backend/src/controllers/LoanController.js:160:28)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","status":500,"timestamp":"2025-08-01 16:30:25:3025","url":"/api/loans/my-loans","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","userId":"69bd7618-20a9-4271-85c9-5177c423d80c"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mGet user loans error: loan.toUserLoan is not a function\u001b[39m","stack":"TypeError: loan.toUserLoan is not a function\n    at /Users/igeorgiadis/Library/Mobile Documents/com~apple~CloudDocs/cf7-kchavela-2025/backend/src/controllers/LoanController.js:160:45\n    at Array.map (<anonymous>)\n    at getMyLoans (/Users/igeorgiadis/Library/Mobile Documents/com~apple~CloudDocs/cf7-kchavela-2025/backend/src/controllers/LoanController.js:160:28)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-08-01 16:30:25:3025"}
{"ip":"::1","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mServer error loan.toUserLoan is not a function\u001b[39m","method":"GET","stack":"TypeError: loan.toUserLoan is not a function\n    at /Users/igeorgiadis/Library/Mobile Documents/com~apple~CloudDocs/cf7-kchavela-2025/backend/src/controllers/LoanController.js:160:45\n    at Array.map (<anonymous>)\n    at getMyLoans (/Users/igeorgiadis/Library/Mobile Documents/com~apple~CloudDocs/cf7-kchavela-2025/backend/src/controllers/LoanController.js:160:28)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","status":500,"timestamp":"2025-08-01 16:30:25:3025","url":"/api/loans/my-loans","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","userId":"69bd7618-20a9-4271-85c9-5177c423d80c"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mReturn book error: Cannot destructure property 'return_date' of 'req.body' as it is undefined.\u001b[39m","stack":"TypeError: Cannot destructure property 'return_date' of 'req.body' as it is undefined.\n    at returnBook (/Users/igeorgiadis/Library/Mobile Documents/com~apple~CloudDocs/cf7-kchavela-2025/backend/src/controllers/LoanController.js:96:15)\n    at Layer.handleRequest (/Users/igeorgiadis/Library/Mobile Documents/com~apple~CloudDocs/cf7-kchavela-2025/backend/node_modules/router/lib/layer.js:152:17)\n    at next (/Users/igeorgiadis/Library/Mobile Documents/com~apple~CloudDocs/cf7-kchavela-2025/backend/node_modules/router/lib/route.js:157:13)\n    at middleware (/Users/igeorgiadis/Library/Mobile Documents/com~apple~CloudDocs/cf7-kchavela-2025/backend/node_modules/express-validator/lib/middlewares/check.js:16:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-08-01 16:31:43:3143"}
{"ip":"::1","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mServer error Cannot destructure property 'return_date' of 'req.body' as it is undefined.\u001b[39m","method":"POST","stack":"TypeError: Cannot destructure property 'return_date' of 'req.body' as it is undefined.\n    at returnBook (/Users/igeorgiadis/Library/Mobile Documents/com~apple~CloudDocs/cf7-kchavela-2025/backend/src/controllers/LoanController.js:96:15)\n    at Layer.handleRequest (/Users/igeorgiadis/Library/Mobile Documents/com~apple~CloudDocs/cf7-kchavela-2025/backend/node_modules/router/lib/layer.js:152:17)\n    at next (/Users/igeorgiadis/Library/Mobile Documents/com~apple~CloudDocs/cf7-kchavela-2025/backend/node_modules/router/lib/route.js:157:13)\n    at middleware (/Users/igeorgiadis/Library/Mobile Documents/com~apple~CloudDocs/cf7-kchavela-2025/backend/node_modules/express-validator/lib/middlewares/check.js:16:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","status":500,"timestamp":"2025-08-01 16:31:43:3143","url":"/api/loans/3a984108-5ab7-448b-8664-662c88d955fd/return","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36","userId":"69bd7618-20a9-4271-85c9-5177c423d80c"}
{"code":"23505","error":"duplicate key value violates unique constraint \"books_isbn_key\"","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mDatabase query error\u001b[39m","query":"\n        INSERT INTO books (isbn, title, author, publisher, publication_year, description, total_cop...","timestamp":"2025-08-01 16:40:21:4021"}
{"code":"ECONNREFUSED","error":"","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mDatabase query error\u001b[39m","query":"\n      SELECT \n        b.*,\n        COUNT(bl.id) as borrow_count,\n        COALESCE(\n          json_a...","timestamp":"2025-08-01 18:36:48:3648"}
{"code":"ECONNREFUSED","error":"","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mDatabase connection error\u001b[39m","timestamp":"2025-08-02 18:05:19:519"}
{"error":"Called end on pool more than once","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError closing database pool\u001b[39m","timestamp":"2025-08-02 18:10:07:107"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mPort 5001 is already in use\u001b[39m","timestamp":"2025-08-02 19:21:12:2112"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mPort 5001 is already in use\u001b[39m","timestamp":"2025-08-02 19:36:58:3658"}
{"error":"Called end on pool more than once","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mError closing database pool\u001b[39m","timestamp":"2025-08-02 19:38:30:3830"}
{"code":"EPIPE","errno":-32,"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mUncaught Exception: write EPIPE\u001b[39m","stack":"Error: write EPIPE\n    at afterWriteDispatched (node:internal/stream_base_commons:159:15)\n    at writeGeneric (node:internal/stream_base_commons:150:3)\n    at Socket._writeGeneric (node:net:971:11)\n    at Socket._write (node:net:983:8)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at Writable.write (node:internal/streams/writable:510:10)\n    at Console.log (/Users/igeorgiadis/Library/Mobile Documents/com~apple~CloudDocs/cf7-kchavela-2025/backend/node_modules/winston/lib/winston/transports/console.js:87:23)\n    at Console._write (/Users/igeorgiadis/Library/Mobile Documents/com~apple~CloudDocs/cf7-kchavela-2025/backend/node_modules/winston-transport/modern.js:103:17)\n    at doWrite (/Users/igeorgiadis/Library/Mobile Documents/com~apple~CloudDocs/cf7-kchavela-2025/backend/node_modules/readable-stream/lib/_stream_writable.js:390:139)","syscall":"write","timestamp":"2025-08-09 13:23:55:2355"}
{"ip":"::1","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mServer error Not allowed by CORS\u001b[39m","method":"OPTIONS","stack":"Error: Not allowed by CORS\n    at origin (/Users/igeorgiadis/Library/Mobile Documents/com~apple~CloudDocs/cf7-kchavela-2025/backend/src/config/app.js:34:18)\n    at /Users/igeorgiadis/Library/Mobile Documents/com~apple~CloudDocs/cf7-kchavela-2025/backend/node_modules/cors/lib/index.js:219:13\n    at optionsCallback (/Users/igeorgiadis/Library/Mobile Documents/com~apple~CloudDocs/cf7-kchavela-2025/backend/node_modules/cors/lib/index.js:199:9)\n    at corsMiddleware (/Users/igeorgiadis/Library/Mobile Documents/com~apple~CloudDocs/cf7-kchavela-2025/backend/node_modules/cors/lib/index.js:204:7)\n    at Layer.handleRequest (/Users/igeorgiadis/Library/Mobile Documents/com~apple~CloudDocs/cf7-kchavela-2025/backend/node_modules/router/lib/layer.js:152:17)\n    at trimPrefix (/Users/igeorgiadis/Library/Mobile Documents/com~apple~CloudDocs/cf7-kchavela-2025/backend/node_modules/router/index.js:342:13)\n    at /Users/igeorgiadis/Library/Mobile Documents/com~apple~CloudDocs/cf7-kchavela-2025/backend/node_modules/router/index.js:297:9\n    at processParams (/Users/igeorgiadis/Library/Mobile Documents/com~apple~CloudDocs/cf7-kchavela-2025/backend/node_modules/router/index.js:582:12)\n    at next (/Users/igeorgiadis/Library/Mobile Documents/com~apple~CloudDocs/cf7-kchavela-2025/backend/node_modules/router/index.js:291:5)\n    at sanitizeInput (/Users/igeorgiadis/Library/Mobile Documents/com~apple~CloudDocs/cf7-kchavela-2025/backend/src/middlewares/security.js:144:3)","status":500,"timestamp":"2025-08-09 15:10:09:109","url":"/api/auth/login","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mPort 5001 is already in use\u001b[39m","timestamp":"2025-08-09 21:37:42:3742"}
{"ip":"::1","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mServer error Not allowed by CORS\u001b[39m","method":"OPTIONS","stack":"Error: Not allowed by CORS\n    at origin (/Users/igeorgiadis/Library/Mobile Documents/com~apple~CloudDocs/cf7-kchavela-2025/backend/src/config/app.js:34:18)\n    at /Users/igeorgiadis/Library/Mobile Documents/com~apple~CloudDocs/cf7-kchavela-2025/backend/node_modules/cors/lib/index.js:219:13\n    at optionsCallback (/Users/igeorgiadis/Library/Mobile Documents/com~apple~CloudDocs/cf7-kchavela-2025/backend/node_modules/cors/lib/index.js:199:9)\n    at corsMiddleware (/Users/igeorgiadis/Library/Mobile Documents/com~apple~CloudDocs/cf7-kchavela-2025/backend/node_modules/cors/lib/index.js:204:7)\n    at Layer.handleRequest (/Users/igeorgiadis/Library/Mobile Documents/com~apple~CloudDocs/cf7-kchavela-2025/backend/node_modules/router/lib/layer.js:152:17)\n    at trimPrefix (/Users/igeorgiadis/Library/Mobile Documents/com~apple~CloudDocs/cf7-kchavela-2025/backend/node_modules/router/index.js:342:13)\n    at /Users/igeorgiadis/Library/Mobile Documents/com~apple~CloudDocs/cf7-kchavela-2025/backend/node_modules/router/index.js:297:9\n    at processParams (/Users/igeorgiadis/Library/Mobile Documents/com~apple~CloudDocs/cf7-kchavela-2025/backend/node_modules/router/index.js:582:12)\n    at next (/Users/igeorgiadis/Library/Mobile Documents/com~apple~CloudDocs/cf7-kchavela-2025/backend/node_modules/router/index.js:291:5)\n    at sanitizeInput (/Users/igeorgiadis/Library/Mobile Documents/com~apple~CloudDocs/cf7-kchavela-2025/backend/src/middlewares/security.js:144:3)","status":500,"timestamp":"2025-08-09 22:08:03:83","url":"/api/auth/login","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36"}
{"code":"ECONNREFUSED","error":"","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mDatabase connection error\u001b[39m","timestamp":"2025-09-16 16:03:16:316"}
{"code":"ECONNREFUSED","error":"","level":"\u001b[31merror\u001b[39m","message":"\u001b[31mDatabase connection error\u001b[39m","timestamp":"2025-09-16 16:03:59:359"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mPort 5001 is already in use\u001b[39m","timestamp":"2025-09-16 16:04:41:441"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mPort 5001 is already in use\u001b[39m","timestamp":"2025-09-16 16:04:41:441"}
{"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mPort 5001 is already in use\u001b[39m","timestamp":"2025-09-16 16:04:43:443"}
{"code":"EPIPE","errno":-32,"level":"\u001b[31merror\u001b[39m","message":"\u001b[31mUncaught Exception: write EPIPE\u001b[39m","stack":"Error: write EPIPE\n    at afterWriteDispatched (node:internal/stream_base_commons:159:15)\n    at writeGeneric (node:internal/stream_base_commons:150:3)\n    at Socket._writeGeneric (node:net:971:11)\n    at Socket._write (node:net:983:8)\n    at writeOrBuffer (node:internal/streams/writable:572:12)\n    at _write (node:internal/streams/writable:501:10)\n    at Writable.write (node:internal/streams/writable:510:10)\n    at Console.log (/Users/igeorgiadis/Library/Mobile Documents/com~apple~CloudDocs/cf7-kchavela-2025/backend/node_modules/winston/lib/winston/transports/console.js:87:23)\n    at Console._write (/Users/igeorgiadis/Library/Mobile Documents/com~apple~CloudDocs/cf7-kchavela-2025/backend/node_modules/winston-transport/modern.js:103:17)\n    at doWrite (/Users/igeorgiadis/Library/Mobile Documents/com~apple~CloudDocs/cf7-kchavela-2025/backend/node_modules/readable-stream/lib/_stream_writable.js:390:139)","syscall":"write","timestamp":"2025-09-16 16:06:22:622"}
